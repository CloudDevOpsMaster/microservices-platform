graph TB
    subgraph Frontend
        FE[React Frontend<br/>Vite + TypeScript]
    end

    subgraph "Auth Service :8001"
        AUTH[Auth API<br/>FastAPI]
        PG1[(PostgreSQL<br/>Users & Auth)]
        REDIS[(Redis<br/>Sessions)]
        AUTH --> PG1
        AUTH --> REDIS
    end

    subgraph "User Service :8002"
        USER[User API<br/>FastAPI]
        PG2[(PostgreSQL<br/>User Data)]
        USER --> PG2
        USER -.Publish Events.-> RMQ
    end

    subgraph "Audit Service :8003"
        AUDIT[Audit API<br/>FastAPI]
        MONGO[(MongoDB<br/>Audit Logs)]
        AUDIT --> MONGO
        RMQ -.Consume Events.-> AUDIT
    end

    subgraph "AI Service :8004"
        AI[AI API<br/>FastAPI]
        BEDROCK[AWS Bedrock<br/>Claude Sonnet 4.1]
        QDRANT[(Qdrant<br/>Vector DB)]
        AI --> BEDROCK
        AI --> QDRANT
    end

    subgraph "Message Broker"
        RMQ[RabbitMQ<br/>:5672, :15672]
    end

    FE -->|REST API| AUTH
    FE -->|REST API| USER
    FE -->|REST API| AUDIT
    FE -->|REST API| AI

    style AUTH fill:#4CAF50
    style USER fill:#2196F3
    style AUDIT fill:#FF9800
    style AI fill:#9C27B0
    style RMQ fill:#FF5722
    style FE fill:#00BCD4